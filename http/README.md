# HTTP 강의 정리
## [강의주소](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/dashboard)

## URI와 웹 브라우저 요청 흐름 
* Uniform: 리소스 식별하는 통일된 방식
* Resource: 자원, URL로 식별할 수 있는 모든 것
* Identifier: 다른 항목과 구분하는데 필요한 정보
* URL과 URI는 별차 없다.

## URL scheme
* 프로토콜 : http, https, ftp 등
* 호스트명 : 도메인명
* 포트 : PORT (8080)
* path: 리소스 경로, 계층적 구조
* Query: key=value 형태, 웹서버에 제공하는 파라미터, 문자형태

## 클라이언트 서버 구조
* Request Response 구조
* 클라이언트는 서버에 요청을 보내고, 응답을 대기
* 서버가 요청에 대한 결과를 만들어서 응답

## statefu, stateless
* 상태 유지: 항상 같은 서버가 유지되어야 한다.
* 무상태: 무상태는 응답 서버를 쉽게 바꿀 수 있다. -> 무한한 서버 증설 가능
  + 스케일 아웃 - 수평 확장에 유리하다.

## 비 연결성
* HTTP는 기본이 연결을 유지하지 않는 모델
* 일반적으로 초단위의 이하의 빠른 속도로 응답
* TCP/IP 연결을 새로 맺어야 함 
* 웹 브라우저로 사이트를 요청하면 수 많은 자원이 함께 다운로드 된다.
 
 ## GET, POST
 * GET: 리소스 조회
 * POST: 요청 데이터 처리
 * PUT: 리소스를 대체, 해당 리소스가 없으면 생성
 * PATCH: 리소스 부분 변경
 * DELETE: 리소스 삭제
 
 ### GET
 * 리소스 조회
 * 서버에 전달하고 싶은 데이터는 query를 통해서 전달
 * 메시지 바디를 사용해서 데이터를 전달할 수 있지만, 지원하지 않는 곳이 많아서 권장x
 
 ### POST
 * 요청 데이터 처리
 * 메시지 바디를 통해 서버로 요청 데이터 전달
 * 서버는 요청 데이터를 처리
 * 주로 전달된 데이터로 신규 리소스 등록, 프로세스 처리
 
 ### POST 요청 데이터 처리 방법
 * HTML 양식에 입력 된 필드와 같은 데이터 블록을 데이터 처리 프로세스 제공
 * 게시판, 뉴스 그룹, 메일링 리스트, 블로그 또는 유사한 기사 그룹에 메시지 게시
 * 이 리소스 URL에 POST 요청이 오면 요청 데이터를 어떻게 처리할지 리소스마다 따로 정해야 함.
 
 ### PUT 
 * 리소스가 있으면 대체 
 * 클라이언트가 리소스를 식별
 * 클라이언트가 리소스 위치를 알고 URL 지정

### PATCH
* 리소스 부분 변경 

### DELETE
* 리소스 제거

## HTP 메서드의 속성

### 안전
* 호출해도 리소스를 변경하지 않는다.

### 멱등
* 몇번을 호출하든 결과가 똑같다.

### 캐시가능
* 응답 결과 리소스를 캐시해서 사용해도 되는가?
* GET, HEAD 정도만 캐시로 사용 

# 클라이언트에서 서버로 데이터 전송

## 쿼리 파라미터를 통한 데이터 전송
* GET
* 주로 정렬 필터(검색어)
* 조회는 GET을 사용

## 메시지 바디를 통한 데이터 전송
* POST, PUT, PATCH
* 회원 가입, 상품  주문,
* 변경은 GET X


## 상태 코드

### 2xx
* 200 OK: 요청을 하고 응답이 성공 했을 때
* 201 Created: 요청 성공해서 새로운 리소스가 생성됨.
* 202 Accepted: 요청이 접수되었으나 처리가 완료되지 않았음
* 204 No Content: 서버가 요청을 성공적으로 수행했지만, 응답 페이로드 본문에 보낼 데이터가 없음

### 3xx
* 영구 리다이렉션 - 특정 리소스의 URL가 영구적으로 이동
* 301 Moved Permanently : 리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있음
* 308 Permanent Redirect : 301과 기능은 같음, 리다이렉트시 요청 메서드와 본문 유지

* 일시 리다이렉션 - 일시적인 변경
* 302 Fount: 리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있음
* 307 Temporary Redirect : 리다이렉트시 요청 메서드와 본문 유지
* 303 See Other : 리다이렉트시 요청 메서드가 GET으로 변경
* 새로고침해도 결과 화면을 GET으로 하여 중복 주문을 막음

* 특수 리다이렉션 - 결과 대신 캐시를 사용

### 4xx
* 클라이언트의 요청에 잘못된 문법등으로 서버가 요청을 수행할 수 없음
* 401 오류 발생시 응답에 WWW-Authenticate 헤더와 함께 인증 방법을 설명
* 403 Forbidden: 서버가 요청을 이해했지만 승인을 거부함, 인증 자격 증명이 있지만, 접근 권한이 없을 때

## HTTP 헤더
* HTTP 전송에 필요한 모든 부가정보
* 엔티티 헤더는 엔티티 본문의 데이터를 해석할 수 있는 정보 제공

### 헤더 종류 
* General 헤더: 메시지 전체에 적용되는 정보
* Request 헤더: 요청 정보
* Response 헤더: 응답 정보
* Entity 헤더: 엔티티 바디

### HTTP BODY
* 메시지 본문을 통해 표현 데이터 전달
* 표현은 요청이나 응답에서 전달할 실제 데이터

### 콘텐츠 협상
* Accept-Language를 적용시켜 언어를 바꿈 
* 0~1 , 클수록 언어의 우선순위를 정함

### HOST
* 요청에서 사용
* 필수
* 하나의 서버가 여러 도메인을 처리해야 할 때

### 인증
* Authorization: 클라이언트 인증 정보를 서버에 전달
* WWW-Authorization: 리소스 접근시 필요한 인증 방법 정의

### 쿠키
* Set-Cookie: 서버에서 클라이언트로 쿠키 전달
* 쿠키 정보는 항상 서버에 전송
* 광고 정보 트래킹에 많이 사용
* 보안에 민감한 데이터는 저장 x
* HttpOnly: Xss 공격 방지 , HTTP 전송에만 사용
* XSRF 공격방지, 요청 도메인과 쿠키에 설정된 도메인이 같은 경우만 쿠키 전송



